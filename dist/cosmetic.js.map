{"version":3,"sources":["../public/javascripts/cosmetic.js"],"names":["fetch","then","response","text","data","parseInt","selected","i","r","Math","floor","random","includes","push","console","log","document","getElementById","src","changeRandomPicture","el","curr","split","splice","indexOf","tl","anime","timeline","easing","duration","add","targets","opacity","complete","anim","countStart","json","pcount","CountUp","count","start","sleep","time","Promise","resolve","setTimeout","countMF","innerHTML","style","display","ScrollReveal","reveal","beforeReveal","distance","updatePlayerCount","$","ajaxForm","url","dataType","error","status","refreshAndRender","innerText","value","startsWith"],"mappings":";;AAAA;;AAEAA,KAAK,CAAC,aAAD,CAAL,CAAqBC,IAArB,CAA0B,UAAAC,QAAQ;AAAA,SAAEA,QAAQ,CAACC,IAAT,EAAF;AAAA,CAAlC,EAAqDF,IAArD,CAA0D,UAAAG,IAAI,EAAI;AAC9DA,EAAAA,IAAI,GAAGC,QAAQ,CAACD,IAAD,CAAf;AAEA,MAAIE,QAAQ,GAAG,EAAf;;AACA,OAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,IAAI,CAArB,EAAwBA,CAAC,EAAzB,EAA6B;AACzB,QAAIC,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBP,IAA3B,CAAR;;AACA,WAAOE,QAAQ,CAACM,QAAT,CAAkBJ,CAAlB,CAAP,EAA6B;AACzBA,MAAAA,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgBP,IAA3B,CAAJ;AACH;;AACDE,IAAAA,QAAQ,CAACO,IAAT,CAAcL,CAAd;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAY,QAAQR,CAApB;AACAS,IAAAA,QAAQ,CAACC,cAAT,CAAwB,QAAQV,CAAhC,EAAmCW,GAAnC,GAAyC,mBAAmBV,CAAnB,GAAuB,MAAhE;AACH;AAEJ,CAdD;;AAiBA,SAASW,mBAAT,GAA8B;AAC1B,MAAIZ,CAAC,GAAGE,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,CAA3B,IAAgC,CAAxC;AACA,MAAIS,EAAE,GAAGJ,QAAQ,CAACC,cAAT,CAAwB,QAAQV,CAAhC,CAAT;AACA,MAAMc,IAAI,GAAGhB,QAAQ,CAACe,EAAE,CAACF,GAAH,CAAOI,KAAP,CAAa,GAAb,EAAkB,CAAlB,EAAqBA,KAArB,CAA2B,GAA3B,EAAgC,CAAhC,CAAD,CAArB;AACAhB,EAAAA,QAAQ,CAACiB,MAAT,CAAgBjB,QAAQ,CAACkB,OAAT,CAAiBH,IAAjB,CAAhB,EAAwC,CAAxC;AACA,MAAIb,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CAAR;;AACA,SAAOL,QAAQ,CAACM,QAAT,CAAkBJ,CAAlB,CAAP,EAA6B;AACzBA,IAAAA,CAAC,GAAGC,IAAI,CAACC,KAAL,CAAWD,IAAI,CAACE,MAAL,KAAgB,EAA3B,CAAJ;AACH;;AACDL,EAAAA,QAAQ,CAACO,IAAT,CAAcL,CAAd;AACA,MAAIiB,EAAE,GAAGC,KAAK,CAACC,QAAN,CAAe;AACpBC,IAAAA,MAAM,EAAE,aADY;AAEpBC,IAAAA,QAAQ,EAAE;AAFU,GAAf,CAAT;AAIAJ,EAAAA,EAAE,CAACK,GAAH,CAAO;AACHC,IAAAA,OAAO,EAAE,CAACX,EAAD,CADN;AAEHY,IAAAA,OAAO,EAAE,CAFN;AAGHC,IAAAA,QAAQ,EAAE,kBAASC,IAAT,EAAe;AACrBd,MAAAA,EAAE,CAACF,GAAH,GAAS,mBAAmBV,CAAnB,GAAuB,MAAhC;AACH;AALE,GAAP,EAMGsB,GANH,CAMO;AACHC,IAAAA,OAAO,EAAE,CAACX,EAAD,CADN;AAEHY,IAAAA,OAAO,EAAE;AAFN,GANP;AAYH,C,CAGD;AACA;;;AAEA,SAASG,UAAT,GAAqB;AACjBnC,EAAAA,KAAK,CAAC,QAAD,CAAL,CAAgBC,IAAhB,CAAqB,UAAAC,QAAQ;AAAA,WAAGA,QAAQ,CAACkC,IAAT,EAAH;AAAA,GAA7B,EAAiDnC,IAAjD,CAAsD,UAAAG,IAAI,EAAI;AAC1D,QAAIiC,MAAM,GAAG,IAAIC,gBAAJ,CAAY,aAAZ,EAA2BlC,IAAI,CAACmC,KAAhC,CAAb;AACAF,IAAAA,MAAM,CAACG,KAAP;AACH,GAHD;AAIH;;AAED,SAASC,KAAT,CAAgBC,IAAhB,EAAsB;AAClB,SAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD;AAAA,WAAaC,UAAU,CAACD,OAAD,EAAUF,IAAV,CAAvB;AAAA,GAAZ,CAAP;AACH;;AAED,SAASI,OAAT,GAAkB;AACdL,EAAAA,KAAK,CAAC,IAAD,CAAL,CAAYxC,IAAZ,CAAiB,YAAI;AACjBe,IAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiC8B,SAAjC,GAA6C,CAA7C;AACAN,IAAAA,KAAK,CAAC,IAAD,CAAL,CAAYxC,IAAZ,CAAiB,YAAI;AACjBe,MAAAA,QAAQ,CAACC,cAAT,CAAwB,OAAxB,EAAiC8B,SAAjC,GAA6C,CAA7C;AACAN,MAAAA,KAAK,CAAC,IAAD,CAAL,CAAYxC,IAAZ,CAAiB,YAAI;AACjB,YAAIwB,EAAE,GAAGC,KAAK,CAACC,QAAN,CAAe,EAAf,CAAT;AAEAF,QAAAA,EAAE,CAACK,GAAH,CAAO;AACHC,UAAAA,OAAO,EAAE,KADN;AAEHC,UAAAA,OAAO,EAAE,CAFN;AAGHC,UAAAA,QAAQ,EAAE,oBAAY;AAClBjB,YAAAA,QAAQ,CAACC,cAAT,CAAwB,eAAxB,EAAyC+B,KAAzC,CAA+CC,OAA/C,GAAyD,QAAzD;AACH;AALE,SAAP,EAMGnB,GANH,CAMO;AACHC,UAAAA,OAAO,EAAE,WADN;AAEHC,UAAAA,OAAO,EAAE;AAFN,SANP;AAUH,OAbD;AAcH,KAhBD;AAiBH,GAnBD;AAoBH;;AAEDkB,YAAY,GAAGC,MAAf,CAAsB,cAAtB,EAAqC;AACjCC,EAAAA,YAAY,EAAEjB;AADmB,CAArC;AAIAe,YAAY,GAAGC,MAAf,CAAsB,YAAtB,EAAmC;AAC/BE,EAAAA,QAAQ,EAAE;AADqB,CAAnC;AAIAH,YAAY,GAAGC,MAAf,CAAsB,QAAtB,EAA+B;AAC3BC,EAAAA,YAAY,EAAEN;AADa,CAA/B;;AAKA,SAASQ,iBAAT,GAA4B;AACxBtD,EAAAA,KAAK,CAAC,QAAD,CAAL,CAAgBC,IAAhB,CAAqB,UAAAC,QAAQ;AAAA,WAAGA,QAAQ,CAACkC,IAAT,EAAH;AAAA,GAA7B,EAAiDnC,IAAjD,CAAsD,UAAAG,IAAI,EAAI;AAC1DY,IAAAA,QAAQ,CAACC,cAAT,CAAwB,aAAxB,EAAuC8B,SAAvC,GAAmD3C,IAAI,CAACmC,KAAxD;AACH,GAFD;AAGH;;AAGDgB,CAAC,CAAC,UAAD,CAAD,CACKC,QADL,CACc;AACNC,EAAAA,GAAG,EAAG,WADA;AACa;AACnBC,EAAAA,QAAQ,EAAG,MAFL;AAGNC,EAAAA,KAAK,EAAE,eAAUzD,QAAV,EAAoB;AACvB,QAAGA,QAAQ,CAAC0D,MAAT,KAAoB,GAAvB,EAA2B;AACvB5C,MAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwC8B,SAAxC,GAAoD,6BAApD;AACA/B,MAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC8B,SAAtC,GAAkD,EAAlD;AACAc,MAAAA,gBAAgB;AAChBP,MAAAA,iBAAiB;AACpB,KALD,MAKM,IAAGpD,QAAQ,CAAC0D,MAAT,KAAoB,GAAvB,EAA2B;AAC7B5C,MAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwC8B,SAAxC,GAAoD,EAApD;AACA/B,MAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC8B,SAAtC,GAAkD,qDAAlD;AACH,KAHK,MAGD;AACD/B,MAAAA,QAAQ,CAACC,cAAT,CAAwB,cAAxB,EAAwC8B,SAAxC,GAAoD,EAApD;;AACA,UAAG/B,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkC6C,SAAlC,KAAgD,EAAnD,EAAsD;AAClD9C,QAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC8B,SAAtC,GAAkD,iBAAlD;AACH,OAFD,MAEM,IAAG,CAAC/B,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkC8C,KAAlC,CAAwCC,UAAxC,CAAmD,KAAnD,CAAD,IAA8D,CAAChD,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkC8C,KAAlC,CAAwCnD,QAAxC,CAAiD,GAAjD,CAAlE,EAAwH;AAC1HI,QAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC8B,SAAtC,GAAkD,4DAAlD;AACH,OAFK,MAEA,IAAG,CAAC/B,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkC8C,KAAlC,CAAwCnD,QAAxC,CAAiD,GAAjD,CAAJ,EAA0D;AAC5DI,QAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC8B,SAAtC,GAAkD,0BAAlD;AACH,OAFK,MAEA,IAAG,CAAC/B,QAAQ,CAACC,cAAT,CAAwB,QAAxB,EAAkC8C,KAAlC,CAAwCC,UAAxC,CAAmD,KAAnD,CAAJ,EAA8D;AAChEhD,QAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC8B,SAAtC,GAAkD,gCAAlD;AACH,OAFK,MAED;AACD/B,QAAAA,QAAQ,CAACC,cAAT,CAAwB,YAAxB,EAAsC8B,SAAtC,GAAkD,4CAAlD;AACH;AACJ;AACJ;AA1BK,CADd","sourcesContent":["import {CountUp} from \"./countUp.js\";\n\nfetch(\"/covercount\").then(response=>response.text()).then(data => {\n    data = parseInt(data)\n\n    var selected = []\n    for (var i = 1; i <= 8; i++) {\n        var r = Math.floor(Math.random() * data)\n        while (selected.includes(r)) {\n            r = Math.floor(Math.random() * data)\n        }\n        selected.push(r)\n        console.log(\"cim\" + i)\n        document.getElementById(\"cim\" + i).src = \"images/covers/\" + r + \".jpg\";\n    }\n\n})\n\n\nfunction changeRandomPicture(){\n    var i = Math.floor(Math.random() * 8) + 1\n    var el = document.getElementById(\"cim\" + i)\n    const curr = parseInt(el.src.split(\"/\")[5].split(\".\")[0])\n    selected.splice(selected.indexOf(curr), 1);\n    var r = Math.floor(Math.random() * 20)\n    while (selected.includes(r)) {\n        r = Math.floor(Math.random() * 20)\n    }\n    selected.push(r)\n    var tl = anime.timeline({\n        easing: 'easeOutExpo',\n        duration: 750\n    });\n    tl.add({\n        targets: [el],\n        opacity: 0,\n        complete: function(anim) {\n            el.src = \"images/covers/\" + r + \".jpg\"\n        }\n    }).add({\n        targets: [el],\n        opacity: 1\n    })\n\n\n}\n\n\n// setInterval(changeRandomPicture, Math.random() * 1000);\n// setInterval(changeRandomPicture, Math.random() * 1000);\n\nfunction countStart(){\n    fetch(\"/count\").then(response =>response.json()).then(data => {\n        var pcount = new CountUp('playercount', data.count)\n        pcount.start();\n    })\n}\n\nfunction sleep (time) {\n    return new Promise((resolve) => setTimeout(resolve, time));\n}\n\nfunction countMF(){\n    sleep(1000).then(()=>{\n        document.getElementById(\"mfnum\").innerHTML = 2;\n        sleep(1000).then(()=>{\n            document.getElementById(\"mfnum\").innerHTML = 1;\n            sleep(1000).then(()=>{\n                var tl = anime.timeline({})\n\n                tl.add({\n                    targets: '.mf',\n                    opacity: 0,\n                    complete: function () {\n                        document.getElementById(\"joinsdnbutton\").style.display = \"inline\"\n                    }\n                }).add({\n                    targets: '.mfbutton',\n                    opacity: 1\n                })\n            })\n        })\n    })\n}\n\nScrollReveal().reveal('#playercount',{\n    beforeReveal: countStart\n});\n\nScrollReveal().reveal('.rankicons',{\n    distance: '100px'\n});\n\nScrollReveal().reveal('#mfnum',{\n    beforeReveal: countMF\n});\n\n\nfunction updatePlayerCount(){\n    fetch(\"/count\").then(response =>response.json()).then(data => {\n        document.getElementById(\"playercount\").innerHTML = data.count;\n    })\n}\n\n\n$('#idinput')\n    .ajaxForm({\n        url : '/idsubmit', // or whatever\n        dataType : 'json',\n        error: function (response) {\n            if(response.status === 200){\n                document.getElementById(\"inputsuccess\").innerHTML = \"Success! You've been added.\"\n                document.getElementById(\"inputerror\").innerHTML = \"\"\n                refreshAndRender()\n                updatePlayerCount()\n            }else if(response.status === 401){\n                document.getElementById(\"inputsuccess\").innerHTML = \"\"\n                document.getElementById(\"inputerror\").innerHTML = \"There's already someone with the same name and tag!\"\n            }else{\n                document.getElementById(\"inputsuccess\").innerHTML = \"\"\n                if(document.getElementById(\"riotid\").innerText === \"\"){\n                    document.getElementById(\"inputerror\").innerHTML = \"Can't be empty!\"\n                }else if(!document.getElementById(\"riotid\").value.startsWith(\"SDN\") && !document.getElementById(\"riotid\").value.includes(\"#\")){\n                    document.getElementById(\"inputerror\").innerHTML = \"Your name must start with SDN and you are missing the tag!\"\n                }else if(!document.getElementById(\"riotid\").value.includes(\"#\")){\n                    document.getElementById(\"inputerror\").innerHTML = \"You are missing the tag!\"\n                }else if(!document.getElementById(\"riotid\").value.startsWith(\"SDN\")){\n                    document.getElementById(\"inputerror\").innerHTML = \"Your name must start with SDN!\"\n                }else{\n                    document.getElementById(\"inputerror\").innerHTML = \"Server error. Report to errors@joinSDN.com\"\n                }\n            }\n        }\n    })\n;"],"file":"cosmetic.js"}